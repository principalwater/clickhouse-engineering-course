# –î–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –ø–æ –∫—É—Ä—Å—É "ClickHouse –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤ –ë–î"

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –¥–æ–º–∞—à–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è –∏ –ø—Ä–æ–µ–∫—Ç—ã –ø–æ –∫—É—Ä—Å—É ["ClickHouse –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤ –ë–î"](https://otus.ru/lessons/clickhouse/) –æ—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã OTUS.

[//]: # (----)

## ‚öôÔ∏è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è CI/CD

–í —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω production-ready –ø–∞–π–ø–ª–∞–π–Ω CI/CD –Ω–∞ –±–∞–∑–µ Github Actions. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ –∫–æ–¥–∞ (Terraform) –≤–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é, —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø–ª–∞–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏ –∑–∞–≥—Ä—É–∑–∫—É –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø—Ä–∏ –∫–∞–∂–¥–æ–º pull request –≤ –æ—Å–Ω–æ–≤–Ω—É—é –≤–µ—Ç–∫—É. –í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–∫–∏–¥—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Github Actions Secrets. –¢–∞–∫–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π lint –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö Python-—Å–∫—Ä–∏–ø—Ç–æ–≤. –ü–∞–π–ø–ª–∞–π–Ω –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –ø–æ–¥ –Ω–æ–≤—ã–µ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏. –ú–µ—Ä–∂ –≤ master (main) —Ä–∞–∑—Ä–µ—à—ë–Ω —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫.

## üìö –û –∫—É—Ä—Å–µ

**ClickHouse –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤ –ë–î** ‚Äî —ç—Ç–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫—É—Ä—Å –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é 4 –º–µ—Å—è—Ü–∞, –∫–æ—Ç–æ—Ä—ã–π –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∞—Å–ø–µ–∫—Ç—ã —Ä–∞–±–æ—Ç—ã —Å ClickHouse: –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ —Ä–µ—à–µ–Ω–∏–π –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞.

### –ö–ª—é—á–µ–≤—ã–µ —Ç–µ–º—ã –∫—É—Ä—Å–∞:
- –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å ClickHouse –∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ –¥–≤–∏–∂–∫–∞–º–∏
- –†–∞–±–æ—Ç–∞ —Å ClickHouse: SQL, —Ñ—É–Ω–∫—Ü–∏–∏, –¥–≤–∏–∂–∫–∏, –∏–Ω–¥–µ–∫—Å—ã
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –¥–∞–Ω–Ω—ã–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞–º–∏ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Kafka, BI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, PostgreSQL)
- –ü—Ä–æ–µ–∫—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
1) [–û–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –ø–µ—Ä–≤–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ ClickHouse](./hw01_clickhouse-adaptation/hw01.md)
2) [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –∏ –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã](./hw02_clickhouse-deployment)
3) [–†–∞–±–æ—Ç–∞ —Å SQL –≤ ClickHouse](./hw03_clickhouse-sql-basics)
4) [–ê–≥—Ä–µ–≥–∞—Ç–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞ —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ UDF –≤ ClickHouse](./hw04_clickhouse-functions)
5) [–î–≤–∏–∂–∫–∏ MergeTree Family](./hw05_mergetree-engines)
6) [–î–∂–æ–π–Ω—ã –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏](./hw06_joins-and-aggregations)
7) [–†–∞–±–æ—Ç–∞ —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏ –∏ –æ–∫–æ–Ω–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –≤ ClickHouse](./hw07_dictionaries-windows)
8) [–ü—Ä–æ–µ–∫—Ü–∏–∏ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è](./hw08_projections-materialized-views)
9) [–†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∏ —Ñ–æ–Ω–æ–≤—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –≤ ClickHouse](./hw09_replication-lab)
10) [–®–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã](./hw10_sharding-distributed-queries)
11) [–ú—É—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏ —Å –ø–∞—Ä—Ç–∏—Ü–∏—è–º–∏](./hw11_mutations-partitions)
12) [RBAC –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞, –∫–≤–æ—Ç—ã –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è](./hw12_rbac-quotas-limits)

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- [–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –º–æ–¥—É–ª–∏ –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (Terraform, Docker, ClickHouse)](./base-infra)
- [–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ BI: Metabase, Superset, Postgres (Terraform + Docker)](./additional/bi-infra)
- [–ü—Ä–∏–º–µ—Ä—ã, —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã, –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ ClickHouse —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏](./additional/clickhouse)

## üéØ –¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è

–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –∫—É—Ä—Å–∞ –ø—Ä–∏–æ–±—Ä–µ—Ç–∞—é—Ç—Å—è –Ω–∞–≤—ã–∫–∏:
- –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ClickHouse
- –†–∞–±–æ—Ç—ã —Å –±–∞–∑–æ–≤—ã–º–∏ –∏ –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
- –ü–æ–Ω–∏–º–∞–Ω–∏—è —Ä–∞–∑–ª–∏—á–∏–π –º–µ–∂–¥—É ClickHouse –∏ –¥—Ä—É–≥–∏–º–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã–º–∏ –ë–î
- –í—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **ClickHouse** ‚Äî –∫–æ–ª–æ–Ω–æ—á–Ω–∞—è –°–£–ë–î –¥–ª—è OLAP
- **SQL** ‚Äî —è–∑—ã–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
- **Docker** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Terraform** ‚Äî IaaC –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
- **PostgreSQL, MySQL** ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–º–∏ –ë–î
- **Apache Kafka** ‚Äî –ø–æ—Ç–æ–∫–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

## üìñ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ClickHouse](https://clickhouse.com/docs)
- [ClickHouse GitHub](https://github.com/ClickHouse/ClickHouse)
- [–ö—É—Ä—Å –Ω–∞ OTUS](https://otus.ru/lessons/clickhouse/)

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

[–í–ª–∞–¥–∏—Å–ª–∞–≤ –ö—É–∑—å–º–∏–Ω](https://github.com/principalwater) - Data Engineer, —Å—Ç—É–¥–µ–Ω—Ç –∫—É—Ä—Å–∞ "ClickHouse –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä–æ–≤ –ë–î" | OTUS

---

# Homework Assignments for "ClickHouse for DB Engineers and Architects" Course

This repository contains completed homework assignments and projects for the ["ClickHouse for DB Engineers and Architects"](https://otus.ru/lessons/clickhouse/) course from OTUS educational platform.

[//]: # (----)

## ‚öôÔ∏è CI/CD Automation

This repository is equipped with a production-ready CI/CD pipeline powered by GitHub Actions. Infrastructure code (Terraform) is automatically validated, formatted, and planned with artifacts generated and uploaded on every pull request to the main branch. All sensitive variables are managed securely using GitHub Actions Secrets. All Python scripts are automatically linted and formatted as part of the pipeline. The workflow is scalable and can be easily extended for new infrastructure modules and integrations. Merging to master (main) is allowed only after all checks have passed successfully.

## üìö About the Course

**ClickHouse for DB Engineers and Architects** is a professional 4-month course that covers all aspects of working with ClickHouse: from installation and configuration to production-ready solutions.

### Key Course Topics:
- Introduction to ClickHouse and analytical engines
- Working with ClickHouse: SQL, functions, engines, indexes
- Scaling and data manipulation
- Resource management and optimization
- Popular integrations (Kafka, BI tools, PostgreSQL)
- Project work

## üìÅ Repository Structure
1) [Scope of application and initial overview of ClickHouse](./hw01_clickhouse-adaptation/hw01.md)
2) [Deployment and Basic Configuration, Interfaces and Tools](./hw02_clickhouse-deployment)
3) [Working with SQL in ClickHouse](./hw03_clickhouse-sql-basics)
4) [Aggregate Functions, Working with Data Types, and UDF in ClickHouse](./hw04_clickhouse-functions)
5) [MergeTree Engines Family](./hw05_mergetree-engines)
6) [Joins and Aggregations](./hw06_joins-and-aggregations)
7) [Dictionaries and Window Functions in ClickHouse](./hw07_dictionaries-windows)
8) [Projections and Materialized Views](./hw08_projections-materialized-views)
9) [Replication and Background Processes in ClickHouse](./hw09_replication-lab)
10) [Sharding and Distributed Queries](./hw10_sharding-distributed-queries)
11) [Data Mutation and Partition Manipulation](./hw11_mutations-partitions)
12) [RBAC Access Control, Quotas and Limits](./hw12_rbac-quotas-limits)

**Additionally:**
- [Infrastructure modules and automation scripts (Terraform, Docker, ClickHouse)](./base-infra)
- [BI Infrastructure: Metabase, Superset, Postgres (Terraform + Docker)](./additional/bi-infra)
- [Examples, experiments, helper scripts, and advanced ClickHouse deployments](./additional/clickhouse)

## üéØ Learning Objectives

Upon completion of the course, students acquire skills in:
- Deploying and configuring ClickHouse
- Working with basic and advanced features
- Understanding differences between ClickHouse and other popular databases
- Choosing appropriate configurations for data work

## üîß Technologies

- **ClickHouse** ‚Äî columnar DBMS for OLAP
- **SQL** ‚Äî query language
- **Docker** ‚Äî containerization
- **Terraform** ‚Äî IaaC and deployment automatization
- **PostgreSQL, MySQL** ‚Äî relational database integrations
- **Apache Kafka** ‚Äî stream processing

## üìñ Additional Resources

- [Official ClickHouse Documentation](https://clickhouse.com/docs)
- [ClickHouse GitHub](https://github.com/ClickHouse/ClickHouse)
- [Course on OTUS](https://otus.ru/lessons/clickhouse/)

## üë®‚Äçüíª Author

[Vladislav Kuzmin](https://github.com/principalwater) - Data Engineer, student of "ClickHouse for DB Engineers and Architects" course | OTUS
